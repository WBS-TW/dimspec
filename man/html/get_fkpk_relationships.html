<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Extract foreign key relationships from a schema</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for get_fkpk_relationships"><tr><td>get_fkpk_relationships</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Extract foreign key relationships from a schema</h2>

<h3>Description</h3>

<p>This convenience function is part of the automatic generation of SQL commands
building views and triggers from a defined schema. Its sole purpose is as a
pre-pass extraction of foreign key relationships between tables from an
object created by [db_map], which in turn relies on specific formatting in
the schema SQL definitions.
</p>


<h3>Usage</h3>

<pre>
get_fkpk_relationships(er_map(db_conn = con))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>db_map</code></td>
<td>
<p>LIST object containing descriptions of table mapping in an
opinionated manner, generally generated by [er_map]. The expectation is a
list of tables, with references in SQL form enumerated in a child element
with a name matching 'references_in'</p>
</td></tr>
<tr valign="top"><td><code>references_in</code></td>
<td>
<p>CHR scalar naming the child element containing SQL
references statements of the form &quot;fk_column REFERENCES table(pk_column)&quot;
(default: &quot;references&quot; is provided by [er_map])</p>
</td></tr>
<tr valign="top"><td><code>dictionary</code></td>
<td>
<p>LIST object containing the schema dictionary produced by
[data_dictionary] fully describing table entities</p>
</td></tr>
</table>


<h3>Value</h3>

<p>LIST of data frames with one element for each table with a foreign
key defined
</p>


<h3>Note</h3>

<p>This only functions for list objects formatted correctly. That is, each
entry in [db_map] must contain an element with a name matching that
provided to 'references_in' which contains a character vector formatted as
&quot;table1 REFERENCES table2(pk_column)&quot;.
</p>


</body></html>
